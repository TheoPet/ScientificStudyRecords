<!DOCTYPE html>
<div *ngIf="loadedTestSubject" class="container">
  <div class="row">
    <div class="container">
      <h1 class="text-center">
        {{ loadedTestSubject.name }} {{ loadedTestSubject.surname }}
      </h1>
    </div>
  </div>
  <div class="row">
    <div class="container">
      <h2 class="text-center">
        {{ loadedTestSubject.study.name }} ({{ loadedTestSubject.group.name }})
      </h2>
    </div>
  </div>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
        <form [formGroup]="experimentForm">
          <div class="form-group">
            <mat-form-field>
              <label for="task">Task</label>
              <input
                matInput
                type="text"
                id="task"
                formControlName="task"
                class="form-control"
                [value]="experimentForm.get('task').value.name"
              />
            </mat-form-field>
          </div>
          <label for="time">Time</label>
          <ngx-mat-timepicker
              id="timepicker" 
              formControlName="time"
              [showSpinners]="false"></ngx-mat-timepicker>
          <div class="form-group">
            <mat-form-field>
              <label for="comment">Comment</label>
              <textarea
                matInput
                class="form-control"
                id="comment"
                formControlName="comment"
                rows="3"
              ></textarea>
            </mat-form-field>
          </div>
          <div mat-dialog-actions>
            <button
              mat-button
              (click)="onSubmit()"
              [disabled]="experimentForm.invalid || experimentForm.untouched || !experimentForm.dirty"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
